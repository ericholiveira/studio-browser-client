<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" DocStrap Classes BrowserClient Source: index.js var Studio = require('studio'); var io = require('socket.io-client'); var localServices={}; var DEFAULT_NAMESPACE = '__browser'; var DEFAULT_SERVICE_CALL_EVENT_NAME = '__studio_service_call' Studio.plugin = Studio.plugins || {}; /** * Plugin for socketio browser access * @constructor * @author Erich Oliveira * @public * @param {Object} options * @param {String} options.defaultNamespace the module name which will prepend the service automatically instantiated for browser access. Defaults to __browser * @param {String} options.serviceCallEventName The name of the channel used to communicate the services. Defaults to __studio_service_call * @param {String} options.ip Server address (format: http://SOMEADDRESS:SOMEPORT/). Defaults to socket.io default * @param {String} options.io socket io client object (add this if you dont want to pass ip:port) * @default { defaultNamespace:'__browser', serviceCallEventName:'__studio_service_call' } * @example Studio.use(Studio.plugin.client({ip:'http://localhost:3000/'})); */ function BrowserClient(options){ var ip,socket; options = options || {}; options.defaultNamespace = options.defaultNamespace || DEFAULT_NAMESPACE; options.serviceCallEventName = options.serviceCallEventName || DEFAULT_SERVICE_CALL_EVENT_NAME; socket = options.io || io(options.ip); return function(serviceListener,Studio){ serviceListener.onStart(function(serv){localServices[serv.id] = true; }); serviceListener.onStop( function(serv){localServices[serv.id] = false;}); serviceListener.interceptSend(function(send,rec){ return function() { var args = arguments; if(localServices[rec]){ return send.apply(this,args); }else{ return new Studio.promise(function(resolve,reject){ socket.emit(options.serviceCallEventName,JSON.stringify({ service:rec, params: Array.prototype.slice.call(args) }),function(result){ if(result.error){ return reject(result.error); } resolve(result.response); }); }); } }; }); }; } Studio.plugin.client = BrowserClient; window.Studio = Studio; × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" DocStrap Classes BrowserClient Classes Classes BrowserClient × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" DocStrap Classes BrowserClient Studio Browser Plugin (Client) Studio Browser is a plugin for Studio which enables browser direct access (rpc) to your services. If you dont know Studio, you will need to read about it here to unleash the REAL power of micro services in node,it is really easy to use, enforces good practices, and as advantage lets you cluster your application without ANY configuration,real time metrics, and even more. Your services are built to scale since thay one. To use Studio Browser you also need to add Studio Browser as a dependency to your server side project. This plugin is really simple to use as it lets you access your server the exact same way you do on server-to-server Studio service call. Are using Studio or any related project. Let us know, we would love to hear your feedback. Wants to learn more???? Click here to join our slack channel Table of contents Install Intro Getting Started Examples Documentation Build Test License IntroYou probably already know Studio and how it can help you to create and manage micro services without eventhinking about it. You probably already know how to clusterize Studio your services without configurationand all the advantages you can take from a micro services created to be easy to use since they one. Now its time to take one step further and use a really simple interface to access your services from the browser. Now is time to Studio Browser. Getting StartedTo use Studio browser Client you will need to install add the js file to your html file availabler on browser folder or install through npm using your build process (supports browserify), you can also use rawgit cdn and add the following fileto your scripts tag https://cdn.rawgit.com/ericholiveira/studio-browser-client/master/browser/studio-browser-client-with-dependecies.js Installing from npm: npm install studio-browser-client --save Now you're ready to acess your server services from browser. ExamplesHere is a hello world example using Studio Browser:To run this example you will need to install Studio ,Studio Browser,socket io and express . Im using express ONLY to deliver the html file. On your server: var Studio = require('studio'); var StudioBrowser = require('studio-browser'); var app = require('express')(); var http = require('http').Server(app); var io = require('socket.io')(http); app.get('/', function(req, res){ res.sendFile(__dirname + '/index.html'); }); http.listen(3000, function(){ console.log('listening on *:3000'); }); /* Usually you dont need to pass your own socketIO reference, if you dont pass any, Studio Browser creates it to you on port 3000. But as we want to deploy everything together we are just sharing the http server between socket io and express. */ Studio.use(StudioBrowser({socketIO:io})); Studio(function sayHello(){ return 'Hello World From Server'; }).browserPublic(); /* Calling .browserPublic() makes your service available for direct access from browser*/ Studio(function somePrivateFunction(){ return 'foo'; }); /* If you dont call .browserPublic() your service cant be accessed directly from browser*/And on your browser you can create the followind index.html file: &lt;html&gt; &lt;head&gt; &lt;title&gt;Studio Browser example&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1 id=&quot;result&quot;&gt;&lt;/h1&gt; &lt;script src=&quot;https://raw.githubusercontent.com/ericholiveira/studio-browser-client/master/browser/studio-browser-client-with-dependecies.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; Studio.use(Studio.plugin.client({ip:'http://localhost:3000/'}));//the server address var sayHelloService = Studio('sayHello'); sayHelloService().then(function(message){ document.getElementById('result').innerHTML = message; }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;Now you just have to run your server with node, and open your browser on http://localhost:3000 Thats it... Is that simple to access your services from the browser... You dont even need to understand what is a request nor anything related.We just handle it to you. BuildFor those interested on contributing or undenstand how the code works checkout our documentation folder. BuildTo build the project you have to run: npm install npm testThis is going to install dependencies, lint and test the code TestRun test with: npm testLicenseThe MIT License (MIT) Copyright (c) 2016 Erich Oliveira ericholiveira.com Permission is hereby granted, free of charge, to any person obtaining a copyof this software and associated documentation files (the &quot;Software&quot;), to dealin the Software without restriction, including without limitation the rightsto use, copy, modify, merge, publish, distribute, sublicense, and/or sellcopies of the Software, and to permit persons to whom the Software isfurnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included inall copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS ORIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THEAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHERLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS INTHE SOFTWARE. × Search results Close "},"BrowserClient.html":{"id":"BrowserClient.html","title":"Class: BrowserClient","body":" DocStrap Classes BrowserClient Class: BrowserClient BrowserClient new BrowserClient(options) Plugin for socketio browser access Parameters: Name Type Description options Object Properties Name Type Description defaultNamespace String the module name which will prepend the service automatically instantiated for browser access. Defaults to __browser serviceCallEventName String The name of the channel used to communicate the services. Defaults to __studio_service_call ip String Server address (format: http://SOMEADDRESS:SOMEPORT/). Defaults to socket.io default io String socket io client object (add this if you dont want to pass ip:port) Author: Erich Oliveira Default Value: { defaultNamespace:'__browser', serviceCallEventName:'__studio_service_call' } Source: index.js, line 25 Example Studio.use(Studio.plugin.client({ip:'http://localhost:3000/'})); × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
